# XAML Parser

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ XAML —Ñ–∞–π–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≥–∏–±—Ä–∏–¥–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã C#/.NET –∏ Rust.

## –û–ø–∏—Å–∞–Ω–∏–µ

XAML Parser - —ç—Ç–æ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ XAML –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—É—é Rust-–±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å —É–¥–æ–±–Ω—ã–º C# API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ .NET –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ XAML —Ñ–∞–π–ª–æ–≤ –∏–∑ —Å—Ç—Ä–æ–∫, –ø–æ—Ç–æ–∫–æ–≤ –∏ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ –∏–º–µ–Ω–∏, –∞—Ç—Ä–∏–±—É—Ç–∞–º, ID –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –ø—Ä–µ–¥–∏–∫–∞—Ç–∞–º
- ‚úÖ –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ Batch-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å XAML —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é —á–µ—Ä–µ–∑ IDisposable
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–¥–∏—Ä–æ–≤–æ–∫ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä—è –Ω–∞—Ç–∏–≤–Ω–æ–º—É Rust backend
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
xaml-parser/
‚îú‚îÄ‚îÄ xaml-parser/              # –û—Å–Ω–æ–≤–Ω–∞—è C# –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ XamlParser.cs        # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –ø–∞—Ä—Å–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ XamlDocument.cs      # –î–æ–∫—É–º–µ–Ω—Ç XAML —Å –º–µ—Ç–æ–¥–∞–º–∏ –ø–æ–∏—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ XamlFileParser.cs    # –ü–∞—Ä—Å–µ—Ä —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ Native/              # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∞—Ç–∏–≤–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ Structures/          # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ xaml-parser-native/      # –ù–∞—Ç–∏–≤–Ω–∞—è Rust –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
‚îú‚îÄ‚îÄ XamlParserConsoleApp/    # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ README.md
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd xaml-parser
```

2. –ü–æ—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ—à–µ–Ω–∏–µ:
```bash
dotnet build
```

### –û—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### –ü–∞—Ä—Å–∏–Ω–≥ XAML –∏–∑ —Å—Ç—Ä–æ–∫–∏

```csharp
using xaml_parser;

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–∞–º–∏
using var parser = new XamlParser();
var document = parser.ParseDocument(@"
    <Window x:Class=""MainWindow""
            xmlns=""http://schemas.microsoft.com/winfx/2006/xaml/presentation""
            xmlns:x=""http://schemas.microsoft.com/winfx/2006/xaml""
            Title=""Sample Window"" Width=""800"" Height=""600"">
        <Grid>
            <Button x:Name=""SaveButton"" Content=""Save"" Width=""100"" Margin=""10""/>
            <TextBox x:Name=""InputBox"" Text=""Enter text..."" Width=""200""/>
        </Grid>
    </Window>
");

if (document != null)
{
    // –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ ID
    var button = document.FindElementById("SaveButton");
    if (button != null)
    {
        Console.WriteLine($"Button Content: {button.GetAttribute("Content")}");
        Console.WriteLine($"Button Width: {button.GetAttribute<int>("Width")}");
    }

    // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
    Console.WriteLine($"–ö–æ—Ä–Ω–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç: {document.RootElement}");
    Console.WriteLine($"–í—Å–µ–≥–æ –∫–Ω–æ–ø–æ–∫: {document.FindElementsByName("Button").Count()}");
}
```

#### –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞

```csharp
using xaml_parser;

using var fileParser = new XamlFileParser();
var document = fileParser.ParseFile("path/to/your/file.xaml");

// –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
var buttons = document?.FindElementsByName("Button");
var elementsWithId = document?.FindElementsByAttribute("x:Name");
```

#### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

```csharp
using xaml_parser;

using var fileParser = new XamlFileParser();
var document = await fileParser.ParseFileAsync("path/to/file.xaml");

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
await foreach (var doc in fileParser.ParseDirectoryAsync("path/to/xaml/files"))
{
    Console.WriteLine($"Root element: {doc.RootElement.Name}");
}
```

## API Reference

### XamlParser

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ XAML –∏–∑ —Å—Ç—Ä–æ–∫ –∏ –ø–æ—Ç–æ–∫–æ–≤.

```csharp
public sealed class XamlParser : IDisposable
{
    XamlDocument? ParseDocument(string xamlContent)
    XamlDocument? ParseDocumentFromStream(Stream stream)
    Task<XamlDocument?> ParseDocumentFromStreamAsync(Stream stream, CancellationToken cancellationToken = default)
}
```

### XamlFileParser

–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏.

```csharp
public sealed class XamlFileParser : IDisposable
{
    XamlDocument? ParseFile(string filePath)
    Task<XamlDocument?> ParseFileAsync(string filePath, CancellationToken cancellationToken = default)
    XamlDocument? ParseFileWithEncoding(string filePath, Encoding encoding)
    IEnumerable<XamlDocument> ParseDirectory(string directoryPath, string searchPattern = "*.xaml")
    IAsyncEnumerable<XamlDocument> ParseDirectoryAsync(string directoryPath, string searchPattern = "*.xaml", CancellationToken cancellationToken = default)
}
```

### XamlDocument

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã–π XAML –¥–æ–∫—É–º–µ–Ω—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏ –ø–æ–∏—Å–∫–∞.

```csharp
public sealed class XamlDocument : IDisposable
{
    XamlElement RootElement { get; }
    
    // –ú–µ—Ç–æ–¥—ã –ø–æ–∏—Å–∫–∞
    IEnumerable<XamlElement> FindElementsByName(string name)
    IEnumerable<XamlElement> FindElementsByAttribute(string attributeName, string? attributeValue = null)
    XamlElement? FindElementByName(string name)
    XamlElement? FindElementById(string id)
    IEnumerable<XamlElement> FindElementsByType(string typeName)
}
```

### XamlElement

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ XAML –¥–æ–∫—É–º–µ–Ω—Ç–µ.

```csharp
public record XamlElement(
    string Name, 
    string? Namespace, 
    Dictionary<string, string> Attributes, 
    List<XamlElement> Children, 
    string? TextContent
)
{
    string? GetAttribute(string name)
    T? GetAttribute<T>(string name) where T : IConvertible
    bool HasAttribute(string name)
    IEnumerable<XamlElement> GetChildrenByName(string name)
    XamlElement? GetChildByName(string name)
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```csharp
using var parser = new XamlParser();
var document = parser.ParseDocument(xamlContent);

if (document != null)
{
    // –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π)
    var buttons = document.FindElementsByName("Button");
    Console.WriteLine($"–ù–∞–π–¥–µ–Ω–æ –∫–Ω–æ–ø–æ–∫: {buttons.Count()}");

    // –ü–æ–∏—Å–∫ –ø–æ –∞—Ç—Ä–∏–±—É—Ç—É (—Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º)
    var namedElements = document.FindElementsByAttribute("x:Name");
    var elementsWithSpecificMargin = document.FindElementsByAttribute("Margin", "10");

    // –ü–æ–∏—Å–∫ –ø–æ ID (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç x:Name –∏ Name)
    var specificButton = document.FindElementById("SaveButton");
    if (specificButton != null)
    {
        Console.WriteLine($"–ù–∞–π–¥–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞: {specificButton}");
    }

    // –ü–æ–∏—Å–∫ –ø–æ —Ç–∏–ø—É (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –ø–æ–∏—Å–∫—É –ø–æ –∏–º–µ–Ω–∏ –¥–ª—è XAML)
    var textBlocks = document.FindElementsByType("TextBlock");

    // –ü–æ–∏—Å–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–µ–¥–∏–∫–∞—Ç–∞
    var wideElements = document.FindElements(element => 
    {
        var widthStr = element.GetAttribute("Width");
        return double.TryParse(widthStr, out var width) && width > 200;
    });

    Console.WriteLine($"–≠–ª–µ–º–µ–Ω—Ç–æ–≤ —à–∏—Ä–µ 200px: {wideElements.Count()}");
}
```

### –†–∞–±–æ—Ç–∞ —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏

```csharp
var element = document?.FindElementById("MyButton");
if (element != null)
{
    // –ü–æ–ª—É—á–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç –∫–∞–∫ —Å—Ç—Ä–æ–∫—É (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null, –µ—Å–ª–∏ –∞—Ç—Ä–∏–±—É—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω)
    var content = element.GetAttribute("Content");
    Console.WriteLine($"–°–æ–¥–µ—Ä–∂–∏–º–æ–µ: {content ?? "–ù–µ –∑–∞–¥–∞–Ω–æ"}");
    
    // –ü–æ–ª—É—á–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π —Ç–∏–ø–∞
    var width = element.GetAttribute<double>("Width"); // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0.0 –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
    var margin = element.GetAttribute<int>("Margin");   // –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª—é–±—ã–µ IConvertible —Ç–∏–ø—ã
    
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∞—Ç—Ä–∏–±—É—Ç–∞ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
    if (element.HasAttribute("IsEnabled"))
    {
        var isEnabled = element.GetAttribute<bool>("IsEnabled");
        Console.WriteLine($"–≠–ª–µ–º–µ–Ω—Ç –≤–∫–ª—é—á–µ–Ω: {isEnabled}");
    }
    
    // –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
    var opacity = element.GetAttribute<double?>("Opacity");
    if (opacity.HasValue)
    {
        Console.WriteLine($"–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å: {opacity.Value:F2}");
    }
    
    // –†–∞–±–æ—Ç–∞ —Å –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏
    var style = element.GetAttribute("Style");
    var transform = element.GetAttribute("RenderTransform");
    
    // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç–ª–µ–º–µ–Ω—Ç–µ
    Console.WriteLine($"–≠–ª–µ–º–µ–Ω—Ç: {element}"); // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π ToString()
}
```

### –û–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```csharp
// –ü—Ä–æ—Å—Ç–æ–π –æ–±—Ö–æ–¥ —Å –≤—ã–≤–æ–¥–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
void PrintElementTree(XamlElement element, int indent = 0)
{
    var spaces = new string(' ', indent * 2);
    var elementInfo = element.Name;
    
    // –î–æ–±–∞–≤–ª—è–µ–º ID –µ—Å–ª–∏ –µ—Å—Ç—å
    var id = element.GetAttribute("x:Name") ?? element.GetAttribute("Name");
    if (!string.IsNullOrEmpty(id))
        elementInfo += $" (ID: {id})";
    
    Console.WriteLine($"{spaces}üìÑ {elementInfo}");
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–ª—é—á–µ–≤—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
    var importantAttrs = element.Attributes
        .Where(kvp => new[] { "Content", "Text", "Width", "Height", "Margin" }
            .Contains(kvp.Key))
        .Take(3);
        
    foreach (var attr in importantAttrs)
    {
        Console.WriteLine($"{spaces}   @{attr.Key} = \"{attr.Value}\"");
    }
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
    if (!string.IsNullOrEmpty(element.TextContent?.Trim()))
    {
        var text = element.TextContent.Trim();
        if (text.Length > 50)
            text = text.Substring(0, 47) + "...";
        Console.WriteLine($"{spaces}   üìù \"{text}\"");
    }
    
    // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏–º –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
    foreach (var child in element.Children)
    {
        PrintElementTree(child, indent + 1);
    }
}

// –ü–æ–¥—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
int CountElements(XamlElement element)
{
    return 1 + element.Children.Sum(CountElements);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
if (document?.RootElement != null)
{
    Console.WriteLine($"–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–≤—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: {CountElements(document.RootElement)}):");
    PrintElementTree(document.RootElement);
    
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ ToString() –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    Console.WriteLine($"\n–ö–æ—Ä–Ω–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç: {document.RootElement}");
}
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```csharp
using var fileParser = new XamlFileParser();

try
{
    var document = fileParser.ParseFile("path/to/file.xaml");
}
catch (FileNotFoundException ex)
{
    Console.WriteLine($"File not found: {ex.Message}");
}
catch (InvalidOperationException ex)
{
    Console.WriteLine($"Parse error: {ex.Message}");
}
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω–æ–π Rust –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–≥–æ I/O
- Batch-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- .NET 6.0 –∏–ª–∏ –≤—ã—à–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ (Windows, Linux, macOS)

## –õ–∏—Ü–µ–Ω–∑–∏—è

–°–º. —Ñ–∞–π–ª [LICENSE.txt](LICENSE.txt) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –°–±–æ—Ä–∫–∞ –≤—Å–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è
dotnet build

# –°–±–æ—Ä–∫–∞ –≤ Release —Ä–µ–∂–∏–º–µ
dotnet build -c Release

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
dotnet test
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—Ç–∏–≤–Ω–æ–π —á–∞—Å—Ç–∏

–ù–∞—Ç–∏–≤–Ω–∞—è —á–∞—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ Rust –∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `xaml-parser-native/`. –î–ª—è –µ—ë —Å–±–æ—Ä–∫–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Rust toolchain.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `XamlParserConsoleApp`, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
# –ó–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –ø—Ä–∏–º–µ—Ä–æ–º
dotnet run --project XamlParserConsoleApp

# –ó–∞–ø—É—Å–∫ —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
dotnet run --project XamlParserConsoleApp -- "path/to/your/file.xaml"
```

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∂–µ—Ç:
- –ü–∞—Ä—Å–∏–Ω–≥ XAML –∏–∑ —Å—Ç—Ä–æ–∫–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
- –†–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–æ–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–ø–æ ID, –∏–º–µ–Ω–∏, –∞—Ç—Ä–∏–±—É—Ç–∞–º, –ø—Ä–µ–¥–∏–∫–∞—Ç–∞–º)
- –û–±—Ö–æ–¥ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –†–∞–±–æ—Ç—É —Å –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –∏ –∏—Ö —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ
- –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
- –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: C# –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–¥–æ–±–Ω—ã–π API, Rust - –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ —á–µ—Ä–µ–∑ IDisposable
- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π nullable reference types
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Lazy evaluation –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–∞—Ä—à–∞–ª–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –∫–æ–Ω—Ç—Ä–∏–±—É—Ü–∏–∏

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.